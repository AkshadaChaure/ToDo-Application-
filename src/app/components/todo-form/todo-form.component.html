<div class="form-container">
  <div class="form-card">
    <div class="form-header">
      <h2 class="form-title">
        <span class="form-icon">{{ isEdit ? '✏️' : '➕' }}</span>
        {{ isEdit ? 'Edit Todo' : 'Add New Todo' }}
      </h2>
      <p class="form-subtitle">
        {{ isEdit ? 'Update your existing todo' : 'Create a new task to organize your day' }}
      </p>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="todo-form">
      <div class="form-group">
        <label class="form-label" for="title">
          <span class="label-icon">📋</span>
          Title
        </label>
        <input id="title" type="text" formControlName="title" placeholder="Enter todo title" class="form-input"
          [class.error-input]="form.get('title')?.invalid && form.get('title')?.touched" />
        <div *ngIf="form.get('title')?.invalid && form.get('title')?.touched" class="error-message">
          <span class="error-icon">⚠️</span>
          Title is required (max 100 characters)
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" for="description">
          <span class="label-icon">📝</span>
          Description
        </label>
        <textarea id="description" formControlName="description" placeholder="Enter detailed description of your todo"
          class="form-textarea" rows="4"
          [class.error-input]="form.get('description')?.invalid && form.get('description')?.touched"></textarea>
        <div *ngIf="form.get('description')?.invalid && form.get('description')?.touched" class="error-message">
          <span class="error-icon">⚠️</span>
          Description is required
        </div>
      </div>

      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" formControlName="is_done" class="checkbox-input" />
          <span class="checkmark"></span>
          <span class="checkbox-text">Mark as completed</span>
        </label>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="goBack()">
          <span class="btn-icon">←</span>
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid || form.pristine"
          [class.btn-loading]="isSubmitting">
          <span class="btn-icon" *ngIf="!isSubmitting">
            {{ isEdit ? '💾' : '➕' }}
          </span>
          <span class="loading-spinner" *ngIf="isSubmitting"></span>
          {{ isSubmitting ? 'Saving...' : (isEdit ? 'Update Todo' : 'Create Todo') }}
        </button>
      </div>
    </form>
  </div>
</div>